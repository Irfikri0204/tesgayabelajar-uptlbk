<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tes Gaya Belajar | UPT LBK UNM</title>
    <link rel="stylesheet" href="assets/css/output.css" />
    <style>
      * {
        font-family: "Inter", sans-serif;
      }
    </style>
  </head>
  <body>
    <div class="bg-gray-100 min-h-screen flex items-center justify-center">
      <div class="container mx-auto p-4">
        <div
          class="bg-white rounded-lg shadow-lg p-6 md:p-10 max-w-3xl mx-auto"
        >
          <h1 class="text-3xl font-bold text-center mb-8">
            Tes Gaya Belajar | UPT LBK UNM
          </h1>

          <!-- Progress Bar -->
          <div class="mb-8">
            <div class="flex justify-between mb-2">
              <span
                class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-primary-600 bg-primary-200"
                id="step1"
              >
                Data Diri
              </span>
              <span
                class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-primary-600 bg-primary-200 opacity-50"
                id="step2"
              >
                Tes Gaya Belajar
              </span>
            </div>
            <div
              class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-primary-200"
            >
              <div
                id="progress-bar"
                class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-primary-500 w-1/3 transition-all duration-500 ease-in-out"
              ></div>
            </div>
          </div>

          <!-- Form Steps -->
          <form id="multi-step-form">
            <!-- Step 1: Personal Information -->
            <div id="step-1" class="step">
              <div class="mb-6">
                <label
                  for="fullName"
                  class="block mb-2 text-sm font-medium text-gray-900"
                  >Nama Lengkap</label
                >
                <input
                  type="text"
                  placeholder="ex: John Doe"
                  id="fullName"
                  name="data[nama]"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"
                  required
                />
              </div>
              <div class="mb-6">
                <label
                  for="kelas"
                  class="block mb-2 text-sm font-medium text-gray-900"
                  >Kelas</label
                >
                <input
                  type="number"
                  id="kelas"
                  name="data[kelas]"
                  placeholder="ex: 10"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"
                  required
                />
              </div>
              <div class="mb-6">
                <label
                  for="jurusan"
                  class="block mb-2 text-sm font-medium text-gray-900"
                  >Jurusan</label
                >
                <input
                  type="text"
                  name="data[jurusan]"
                  placeholder="Masukkan Jurusan Anda"
                  id="jurusan"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"
                  required
                />
              </div>
              <div class="mb-6">
                <label class="block mb-2 text-sm font-medium text-gray-900"
                  >Jenis Kelamin</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="lakilaki"
                    type="radio"
                    name="data[jenis_kelamin]"
                    value="Laki-laki"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="lakilaki"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >Laki-Laki</label
                  >
                </div>
                <div class="flex items-center">
                  <input
                    id="perempuan"
                    type="radio"
                    name="data[jenis_kelamin]"
                    value="Perempuan"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="perempuan"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >Perempuan</label
                  >
                </div>
              </div>

              <div class="mb-6">
                <label
                  for="semester"
                  class="block mb-2 text-sm font-medium text-gray-900"
                  >Semester</label
                >
                <input
                  type="number"
                  min="1"
                  max="14"
                  id="semester"
                  placeholder="ex: 2"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"
                  required
                />
              </div>
            </div>

            <!-- Step 2 -->
            <div id="step-2" class="step hidden">
              <!-- Q1 -->
              <div class="mb-8">
                <label class="block mb-2 text-sm font-semibold text-gray-900"
                  >1. Ketika berbicara, kamu…</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="q1-a"
                    type="radio"
                    name="data[q1]"
                    value="A"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q1-a"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >A. Berbicara dengan tempo yang cepat</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q1-b"
                    type="radio"
                    name="data[q1]"
                    value="B"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q1-b"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >B. Berbicara dengan tempo yang sedang</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q1-c"
                    type="radio"
                    name="data[q1]"
                    value="C"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q1-c"
                    class="ml-2 text-sm font-medium text-gray-900"
                  >
                    C. Berbicara dengan tempo yang lambat</label
                  >
                </div>
              </div>

              <!-- Q2 -->
              <div class="mb-8">
                <label class="block mb-2 text-sm font-semibold text-gray-900"
                  >2. Bagaimana caramu menghapal?</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="q2-a"
                    type="radio"
                    name="data[q2]"
                    value="A"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q2-a"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >A. Menulisnya berulang-ulang</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q2-b"
                    type="radio"
                    name="data[q2]"
                    value="B"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q2-b"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >B. Mengulang kata-kata sekeras mungkin</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q2-c"
                    type="radio"
                    name="data[q2]"
                    value="C"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q2-c"
                    class="ml-2 text-sm font-medium text-gray-900"
                  >
                    C. Menghafal sambal berjalan-jalan</label
                  >
                </div>
              </div>

              <!-- Q3 -->
              <div class="mb-8">
                <label class="block mb-2 text-sm font-semibold text-gray-900"
                  >3. Ketika mengeja sebuah kata, yang kamu lakukan
                  adalah…</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="q3-a"
                    type="radio"
                    name="data[q3]"
                    value="A"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q3-a"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >A. Membayangkan kata itu</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q3-b"
                    type="radio"
                    name="data[q3]"
                    value="B"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q3-b"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >B. Menyebutnya dengan keras</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q3-c"
                    type="radio"
                    name="data[q3]"
                    value="C"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q3-c"
                    class="ml-2 text-sm font-medium text-gray-900"
                  >
                    C. Menuliskannya</label
                  >
                </div>
              </div>

              <!-- Q4 -->
              <div class="mb-8">
                <label class="block mb-2 text-sm font-semibold text-gray-900"
                  >4. Apa yang bisa membuatmu terganggu?</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="q4-a"
                    type="radio"
                    name="data[q4]"
                    value="A"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q4-a"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >A. Benda-benda di sekitar</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q4-b"
                    type="radio"
                    name="data[q4]"
                    value="B"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q4-b"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >B. Suara</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q4-c"
                    type="radio"
                    name="data[q4]"
                    value="C"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q4-c"
                    class="ml-2 text-sm font-medium text-gray-900"
                  >
                    C. Gerakan</label
                  >
                </div>
              </div>

              <!-- Q5 -->
              <div class="mb-8">
                <label class="block mb-2 text-sm font-semibold text-gray-900"
                  >5. Apa yang paling kamu ingat?</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="q5-a"
                    type="radio"
                    name="data[q5]"
                    value="A"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q5-a"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >A. Orang, lingkungan, wajah</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q5-b"
                    type="radio"
                    name="data[q5]"
                    value="B"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q5-b"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >B. Perkataan, suara, makna</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q5-c"
                    type="radio"
                    name="data[q5]"
                    value="C"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q5-c"
                    class="ml-2 text-sm font-medium text-gray-900"
                  >
                    C. Kejadian, peristiwa, emosi</label
                  >
                </div>
              </div>

              <!-- Q6 -->
              <div class="mb-8">
                <label class="block mb-2 text-sm font-semibold text-gray-900"
                  >6. Apa yang lebih kamu sukai?</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="q6-a"
                    type="radio"
                    name="data[q6]"
                    value="A"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q6-a"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >A. Lukisan</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q6-b"
                    type="radio"
                    name="data[q6]"
                    value="B"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q6-b"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >B. Music</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q6-c"
                    type="radio"
                    name="data[q6]"
                    value="C"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q6-c"
                    class="ml-2 text-sm font-medium text-gray-900"
                  >
                    C. Menari/olahraga</label
                  >
                </div>
              </div>

              <!-- Q7 -->
              <div class="mb-8">
                <label class="block mb-2 text-sm font-semibold text-gray-900"
                  >7. Ketika membaca, apa yang kamu lakukan?</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="q7-a"
                    type="radio"
                    name="data[q7]"
                    value="A"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q7-a"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >A. Melihat bacaan sambil membaca dalam hati</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q7-b"
                    type="radio"
                    name="data[q7]"
                    value="B"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q7-b"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >B. Membaca dengan bersuara</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q7-c"
                    type="radio"
                    name="data[q7]"
                    value="C"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q7-c"
                    class="ml-2 text-sm font-medium text-gray-900"
                  >
                    C. Menggunakan jari untuk menunjuk bagian yang dibaca</label
                  >
                </div>
              </div>

              <!-- Q8 -->
              <div class="mb-8">
                <label class="block mb-2 text-sm font-semibold text-gray-900"
                  >8. Ketika mendapat petunjuk cara passing, apa yang kamu
                  butuhkan?</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="q8-a"
                    type="radio"
                    name="data[q8]"
                    value="A"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q8-a"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >A. Diberi gambar untuk ditirukan</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q8-b"
                    type="radio"
                    name="data[q8]"
                    value="B"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q8-b"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >B. Diberi tahu dengan kata-kata bagaimana cara
                    melakukannya</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q8-c"
                    type="radio"
                    name="data[q8]"
                    value="C"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q8-c"
                    class="ml-2 text-sm font-medium text-gray-900"
                  >
                    C. Diberi contoh untuk diperagakan secara langsung</label
                  >
                </div>
              </div>

              <!-- Q9 -->
              <div class="mb-8">
                <label class="block mb-2 text-sm font-semibold text-gray-900"
                  >9. Ketika ingat pasar, apa yang pertama muncul dalam
                  pikiranmu?</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="q9-a"
                    type="radio"
                    name="data[q9]"
                    value="A"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q9-a"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >A. Pemandangan tentang orang-orang yang berbelanja dan
                    barang-barang yang diperjualbelikan</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q9-b"
                    type="radio"
                    name="data[q9]"
                    value="B"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q9-b"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >B. Ramainya suara orang-orang di pasar</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q9-c"
                    type="radio"
                    name="data[q9]"
                    value="C"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q9-c"
                    class="ml-2 text-sm font-medium text-gray-900"
                  >
                    C. Orang-orang yang hilir mudik dan lalu-lalang di
                    pasar</label
                  >
                </div>
              </div>

              <!-- Q10 -->
              <div class="mb-8">
                <label class="block mb-2 text-sm font-semibold text-gray-900"
                  >10. Ketika ingat pasar, apa yang pertama muncul dalam
                  pikiranmu?</label
                >
                <div class="flex items-center mb-4">
                  <input
                    id="q10-a"
                    type="radio"
                    name="data[q10]"
                    value="A"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q10-a"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >A. Kamar yang gelap/samar/terang</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q10-b"
                    type="radio"
                    name="data[q10]"
                    value="B"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q10-b"
                    class="ml-2 text-sm font-medium text-gray-900"
                    >B. Kamar yang tenang tidak berisik</label
                  >
                </div>
                <div class="flex items-center mb-4">
                  <input
                    id="q10-c"
                    type="radio"
                    name="data[q10]"
                    value="C"
                    class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300"
                  />
                  <label
                    for="q10-c"
                    class="ml-2 text-sm font-medium text-gray-900"
                  >
                    C. Tempat tidur yang nyaman</label
                  >
                </div>
              </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="flex justify-between mt-8">
              <button
                type="button"
                id="prevBtn"
                class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 focus:outline-none focus:shadow-outline hidden"
              >
                Sebelumnya
              </button>
              <button
                type="button"
                id="nextBtn"
                class="px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 focus:outline-none focus:shadow-outline"
              >
                Selanjutnya
              </button>
              <button
                type="submit"
                id="submitBtn"
                class="px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 focus:outline-none focus:shadow-outline hidden"
              >
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
      let currentStep = 1;
      const form = document.getElementById("multi-step-form");
      const prevBtn = document.getElementById("prevBtn");
      const nextBtn = document.getElementById("nextBtn");
      const submitBtn = document.getElementById("submitBtn");
      const progressBar = document.getElementById("progress-bar");

      function showStep(step) {
        document
          .querySelectorAll(".step")
          .forEach((s) => s.classList.add("hidden"));
        document.getElementById(`step-${step}`).classList.remove("hidden");

        progressBar.style.width = `${(step / 2) * 100}%`;
        for (let i = 1; i <= 2; i++) {
          const stepIndicator = document.getElementById(`step${i}`);
          if (i <= step) {
            stepIndicator.classList.remove("opacity-50");
          } else {
            stepIndicator.classList.add("opacity-50");
          }
        }

        prevBtn.classList.toggle("hidden", step === 1);
        nextBtn.classList.toggle("hidden", step === 2);
        submitBtn.classList.toggle("hidden", step !== 2);
      }

      function validateStep(step) {
        const currentStepElement = document.getElementById(`step-${step}`);
        const inputs = currentStepElement.querySelectorAll(
          "input[required], select[required]"
        );
        let isValid = true;

        inputs.forEach((input) => {
          if (!input.value) {
            isValid = false;
            input.classList.add("border-red-500");
          } else {
            input.classList.remove("border-red-500");
          }
        });

        return isValid;
      }

      nextBtn.addEventListener("click", () => {
        if (validateStep(currentStep)) {
          currentStep++;
          showStep(currentStep);
        }
      });

      prevBtn.addEventListener("click", () => {
        currentStep--;
        showStep(currentStep);
      });

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        if (validateStep(currentStep)) {
          let a = 0;
          let b = 0;
          let c = 0;
          let hasil = "";
          for (let i = 1; i <= 10; i++) {
            if (
              document.querySelector(`input[name="data[q${i}]"]:checked`)
                .value == "A"
            ) {
              a++;
            } else if (
              document.querySelector(`input[name="data[q${i}]"]:checked`)
                .value == "B"
            ) {
              b++;
            } else {
              c++;
            }
          }
          if (a > b && a > c) {
            hasil = "Visual";
          } else if (b > a && b > c) {
            hasil = "Auditory";
          } else {
            hasil = "Kinesthetic";
          }
          console.log("Total Hasil:", hasil);
          localStorage.setItem("hasil", hasil);
          console.log("Hasil di Local Storage:", localStorage.getItem("hasil"));

          // Input Data
          const formData = new FormData(form);

          try {
            const response = await fetch(
              "https://sheetdb.io/api/v1/uf7qmjuvc62rd",
              {
                method: "POST",
                body: formData,
              }
            );
            if (!response.ok) {
              throw new Error("Gagal mengirim data ke server");
            }
            console.log("Data berhasil dikirim!");
            Swal.fire({
              title: "Data Berhasil Disubmit!",
              icon: "success",
            }).then(() => {
              window.location.href = "result.html"; // Redirect setelah alert ditutup
            });
          } catch (error) {
            Swal.fire({
              title: "Terjadi Kesalahan!",
              text: error.message,
              icon: "error",
            });
          }
        }
      });

      showStep(currentStep);
    </script>
  </body>
</html>
